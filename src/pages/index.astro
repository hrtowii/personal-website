---
import Layout from '../layouts/Layout.astro';
import MusicCard from '../components/MusicCard'
import BlogCard from '../components/BlogCard';
import SkillsCard from '../components/SkillsCard'
import Sidebar from '../components/Sidebar'
import './index.css'
---

<Layout title="htrowii's website">
	<main class="grid-container">
		<div id="sidebar-wrapper">
			<Sidebar client:load/>
		</div>
		<div class="main-content">
			<div class="tophalf">
				<div id="item1" class="item">
					<div class="item-content">
						<h4>hnr2023</h4>
					</div>
				</div>
				<div id="item2" class="item">
					<div class="item-content">
					 	<h4>Coffier</h4>
					</div>
				</div>
				<div id="item3" class="transparentitem">
					<div class="item-content">
					 	<h3>Projects</h3>
					</div>
				</div>
				<div id="item4" class="item">
					<div class="item-content">
						<h4>Serotonin</h4>
					</div>
				</div>
				<div id="item5" class="item">
					<div class="item-content">
						<h4>KFDFontOverwrite</h4>
					</div>
				</div>
				<div id="item6" class="item">
					<div class="item-content">
						<!-- 2x2 -->
						<h4>Serotonin</h4>
							<div class="item-subtitle"></div>
					</div>
				</div>
				<div id="item7" class="item">
					<div class="item-content">
						<h4>Serotonin</h4>
					</div>
				</div>
				<div id="item8" class="item">
					<div class="item-content">
						<h4>Serotonin</h4>
					</div>
				</div>
				<div id="item9" class="item">
					<div class="item-content">
						<h4>Serotonin</h4>
					</div>
				</div>
			</div>
			<div class="bottomhalf">
				<div class="one-third">
					<BlogCard/>
				</div>
				<div class="two-thirds">
					<SkillsCard/>
				</div>
			</div>
		</div>
	</main>
</Layout>

<script>
	const subtitle = document.getElementsByClassName("item-subtitle")[0];

const createWord = (text: string, index: number) => {
  const word = document.createElement("span");
  
  word.innerHTML = `${text} `;
  
  word.classList.add("item-subtitle-word");
  
  word.style.transitionDelay = `${index * 40}ms`;
  
  return word;
}

const addWord = (text: string, index: number) => subtitle.appendChild(createWord(text, index));

const createSubtitle = (text: string) => text.split(" ").map(addWord);

createSubtitle("Semi-jailbreak for iOS 16-16.6.1");

</script>

<!-- <script>
document.getElementById("cards")!.onmousemove = e => {
  for(let card of document.getElementsByClassName("item") as HTMLCollectionOf<HTMLElement>) {
    const rect = card.getBoundingClientRect(),
          x = e.clientX - rect.left,
          y = e.clientY - rect.top;
    card.style.setProperty("--mouse-x", `${x}px`);
    card.style.setProperty("--mouse-y", `${y}px`);
  };
}
</script> -->