---
import Blog from '../../../layouts/Blog.astro';
import Metadata from '../../../components/Metadata.astro';
import { filenameToTitle } from '../../../filenameToTitle'
import { getCollection } from 'astro:content';
const { entry } = Astro.props;
const { Content } = await entry.render();

export async function getStaticPaths() {
  const blogEntries = await getCollection('blog');
  return blogEntries.map((entry: { slug: any; }) => ({
    params: { slug: entry.slug },
    props: { entry },
  }));
}

---

<Blog filename={entry.id} {...entry.data}>
  <Metadata
    slot="metadata"
    title={filenameToTitle(entry.id)}
    description={entry.data.excerpt}
    image={`${Astro.site}blog/${entry.slug}/og.png`}
    canonicalUrl={`${Astro.site}blog/${entry.slug}`}
    publishedTime={entry.data.date.toISOString()}
    type="article"
  />
  <Content />
</Blog>